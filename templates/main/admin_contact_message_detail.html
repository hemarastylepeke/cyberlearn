{% extends 'main/loginbase.html' %}
{% load static %}

{% block content %}
<div class="text-base text-gray-500 border-b border-slate-200">
    <div class="flex flex-col gap-4 mb-6">
        <div class="flex flex-row gap-4 items-center">
            <div class="bg-gradient-to-r from-blue-600 to-blue-950 w-[10px] h-[25px] rounded-lg"></div>
            <h1 class="font-bold text-lg">{{ contact_message.first_name }}'s message details</h1>
        </div>
        <p class="text-sm leading-6">
            View and manage {{ contact_message.first_name }}'s message from this page.
        </p>
    </div>
</div>  
{% if contact_message %} 
<div class="flex flex-col md:flex-row gap-4 py-6">
    <div class="flex-col bg-white p-4 rounded-lg border border-slate-200 shadow-md w-full max-w-6xl">
        <div class="bg-white">
            <h1 class="text-slate-600 font-barlow text-2xl mb-4">Message information.</h1>
            <div class="flex flex-col md:flex-row gap-6 border-t border-slate-200 py-3">
                <div class="w-full">
                    <p class="text-gray-600 mb-2 font-barlow">Client's Name</p>
                    <p class="border border-slate-300 rounded-[5px] p-2 text-slate-600">{{ contact_message.first_name }} {{ contact_message.last_name }}</p>
                </div>
                <div class="w-full">
                    <p class="text-gray-600 mb-2 font-barlow">Client's Email</p>
                    <p class="border border-slate-300 rounded-[5px] p-2 text-slate-600">{{ contact_message.email }}</p>
                </div>
            </div>
            <div class="flex flex-col md:flex-row gap-6 mt-4">
                <div class="w-full">
                    <p class="text-gray-600 mb-2 font-barlow">Client's Phone</p>
                    <p class="border border-slate-300 rounded-[5px] p-2 text-slate-600">{{ contact_message.phone }}</p>
                </div>
                <div class="w-full">
                    <p class="text-gray-600 mb-2 font-barlow">Message</p>
                    <p class="border border-slate-300 rounded-[5px] p-2 text-slate-600">{{ contact_message.message }}</p>
                </div>
            </div>
        </div>
        <div class="mt-4 mb-4 flex flex-row justify-between">
            <form method="post" action="{% url 'admin_delete_message' contact_message.id %}"  onsubmit="return confirm('Are you sure you want to delete this client? This action cannot be undone.')">
                {% csrf_token %}
                <button type="submit" class="bg-red-600 hover:bg-red-800 py-2 px-3 hover:cursor-pointer ease-in duration-300 rounded-lg text-white">Delete Message</button>
            </form>
        </div>
    </div>
</div>
{% else %}
<p class="bg-blue-600/5 rounded-2xl border border-blue-200/40 text-blue-800 p-8 text-center gap-3 items-center flex flex-col">
    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-12 h-12">
        <path stroke-linecap="round" stroke-linejoin="round" d="m11.25 11.25.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9-3.75h.008v.008H12V8.25Z" />
    </svg>
    <span>We could not retrieve Message details!</span>
</p>
{% endif %}
{% endblock content %}